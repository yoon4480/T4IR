### SQL 인젝션

외부 입력값에 대해 쿼리 조작 문자열 포함 여부를 검증하지 않고 쿼리 작성 및 실행에 사용하는 경우, 쿼리의 구조와 의미가 변경되어서 실행되는 공격 방법이다.

- 데이터베이스 또는 데이터에 대해 공격 —> 권한 밖의 데이터를 생성, 조회, 수정, 삭제 조작
- 서버에 대한 공격 —> 데이터베이스 서버의 제어권을 획득하여 원격지에서 해당 서버를 조작 제어

<br>

### XSS(Cross Site Scripting)

경로를 통해서 공격자가 작성한 스크립트가 전달되어 사용자 브라우저에서 실행될 수 있다.

- 브라우저 또는 로컬에 저장된 정보 탈취가 가능
- 스크립트로 가짜 페이지를 작성하고 사용자가 데이터를 입력하게 하여 데이터를 탈취할 수 있음
- 해당 PC의 제어권을 탈취하여 원격에서 제어 —> 좀비화 —> BeEF

Reflective XSS

<br>

### 인가(Authorization)

= 권한 = 접근통제

1. 화면 레이어에서
2. 기능 레이어에서
3. 데이터 레이어에서

<br>

인터넷을 통해 내부 사용자의 PC로 들어가 공격하기도 함

1. 내부 악성코드 차단(WAS개발자 유의사항)
2. 내부 사용자가 외부에서 취약점을 가지고 들어오는 것을 막아야 함(사용자 유의사항)

<br>

### 개발보안 vs 사전점검

- \"개발보안"은 행정안전부 관련하여 사용하는 용어이고 , 공공기관에만 적용된다.
- \"사전점검"은 과학기술정보통신부 관련하여 사용하는 용어이고, 공공기관 뿐만 아니라 민간기관에도 적용된다.

<br>

### 메타문자(의미문자)

SQL에서 기능을 가지고 있는 문자

- \'', #, ;, - 등

URL에서 기능을 가지고 있는 문자

- ?, &, = 등

<br>

### 운영체제 명령어 삽입(Command Injection)

운영체제의 명령어 실행 부분이 존재하는 경우 

외부 입력값을 검증, 제한없이 OS 명령어 실행 부분에 명령어 또는 명령어의 일부로 사용하는 공격 방법

String input = request.getParameter("cmd");

Runtime.getRuntime().exec(input);

<br>

> // 외부 입력값을 검증하지 않고 명령어로 사용하는 경우
>
> …/doSomething.jsp?cmd=dir —> 서버에서 dir한 결과가 반환됨
>
> 
>
> // 의도하지 않은 명령어가 전달되어 실행될 수 있음
>
> …/doSomething.jsp?cmd=ipconfig
>
> 
>
> // 의도하지 않은 추가 명령어가 실행될 수 있음
>
> …/doSomething.jsp?fname=help.txt %26 ipconfig

<br>

### CSRF(크로스사이트 요청 위조)

서버로 전달된 요청을 요청 절차와 주체에 대한 검증을 거치지 않고 요청을 처리할 때 발생

<br>

### 형식 문자열(Format String) 삽입

출력 형식을 지정하는 문자열이 사용될 때, 그에 해당하는 값이 정의되지 않은 경우에 발생하는 문제이다.

<br>

### CWE-807

#### 프로그래밍 = 입력 —> 처리 —> 출력

#### 입력

- 신뢰할 수 있는 영역에서의 입력 : 시스템 내부에서 들어오는 입력(서버가 보유하고 있는 값)
- 신뢰할 수 없는 영역에서의 입력 : 시스템 외부에서 들어오는 입력(사용자 입력)

<br>

안전한 처리를 위해서는 신뢰할 수 없는 영역에서의 입력 사용을 최소화해야 한다.

<br>

### CWE-250

불필요한 권한으로 실행하여 발생하는 취약점이다. 달리 말해서 많은 권한을 부여하는 것이다.

<br>

### 암호화에서 중요한 3가지

1. 안전한 알고리즘 사용
2. 키 길이 준수
3. 키를 안전하게 보관

해싱할 땐 Salt를 적용해야 한다.

<br>

오류 메시지를 통한 정보 노출

오류 사항 대응 부재

부적절한 예외 처리

<br>

### SW 개발 단계에서 보안 취약점을 제거해야 하는 이유

- 배포 이전에 취약점을 50% 줄이면, 침해사고 대응 비용이 75% 감소됨 - Gartner
- 보안 취약점의 92%는 네트워크가 아닌 애플리케이션에서 발견됨 - NIST
- 배포 이후의 오류 수정은 약 \$30,000의 비용이 소요되는데 반해, 개발 중 오류 수정은 약 \$5,000면 충분함 - NIST
- 배포 이후 오류를 수정하고자 할 경우 설계 단계보다 비용이 100배 증가됨 - IBM